<html>
<title>



</title>

<body style="margin: 0%;padding: 0%;overflow: hidden;">

    <div id="bg1" style="width:100%;height:101%;position: absolute; background-image: url('bg1.jpg');">
    </div>
    <div id="bg2" style="width:100%;height:101%;position: absolute; background-image: url('bg1.jpg');">
    </div>
    <div id="playerShip" style="width:15%;height:15%;position: absolute;z-index:10 ; background-image: url('spaceship.png');
    background-size: 100% 100%;">
        <div id="exaust1" style="width:15%;height:15%;position: absolute;right:53%;top:100%;z-index:10 ; background-image: url('engine.gif');background-size: 100% 100%;transform: scaleY(-1);">
        </div>
        <div id="exaust2" style="width:15%;height:15%;position: absolute;right:31%;top:100%;z-index:10 ; background-image: url('engine.gif');background-size: 100% 100%;transform: scaleY(-1);">
        </div>
        <div id="exaust3" style="width:15%;height:15%;position: absolute;right:15%;top:85%;z-index:10 ; background-image: url('engine.gif');background-size: 100% 100%;transform: scaleY(-1);">
        </div>
        <div id="exaust4" style="width:15%;height:15%;position: absolute;right:69%;top:85%;z-index:10 ; background-image: url('engine.gif');background-size: 100% 100%;transform: scaleY(-1);">
        </div>
    </div>
    <!-- <div style="width:100%;height:100%;position: absolute; background-image: url('bg1.jpg');">
    </div> -->
    <!-- <canvas id="mainCanvas" style="border:1px solid #000000;">
    </canvas> -->


    <script>
        var playerShip = document.getElementById("playerShip");
        let playertop = window.innerHeight * .7;
        let playerright = window.innerWidth * .45;
        let bgImageV1 = 0;
        let bgImageV2 = -window.innerHeight;
        let bgImageVFrameShift = 1;





        // init();

        function init() {
            canvas = document.getElementById("mainCanvas");
            canvas.width = document.body.clientWidth; //document.width is obsolete
            canvas.height = document.body.clientHeight; //document.height is obsolete
            canvasW = canvas.width;
            canvasH = canvas.height;
        }

        let speedMax = 5;
        let speedUp = 1;
        let speedDown = 1;
        let speedRight = 1;
        let speedLeft = 1;
        let keysPressed = {};
        document.addEventListener('keydown', (event) => {
            keysPressed[event.key] = true;

        });

        document.addEventListener('keyup', (event) => {
            // console.log(event.key)
            if (event.key == "ArrowRight")
                speedRight = 1;
            if (event.key == "ArrowUp")
                speedUp = 1;
            if (event.key == "ArrowLeft")
                speedLeft = 1;
            if (event.key == "ArrowDown")
                speedDown = 1;

            delete keysPressed[event.key];
        });


        let right = true;
        let up = true;
        let left = true;
        let down = true;

        function moveBg() {
            bgImageV1 += bgImageVFrameShift;
            bgImageV2 += bgImageVFrameShift;
            if (bgImageV1 > window.innerHeight) bgImageV1 = -window.innerHeight
            document.getElementById("bg1").style.top = bgImageV1 + "px";
            if (bgImageV2 > window.innerHeight) bgImageV2 = -window.innerHeight
            document.getElementById("bg2").style.top = bgImageV2 + "px";

            right = true;
            up = true;
            left = true;
            down = true;

            if (keysPressed['Control'] && keysPressed['a']) {}
            if (keysPressed['ArrowRight'] && keysPressed['ArrowUp']) {
                playerright -= speedRight;
                if (speedRight < speedMax) speedRight++;
                playertop -= speedUp;
                if (speedUp < speedMax) speedUp++;
                right = false;
                up = false;
            }
            if (keysPressed['ArrowRight'] && keysPressed['ArrowDown']) {
                playerright -= speedRight;
                if (speedRight < speedMax) speedRight++;
                playertop += speedDown;
                if (speedDown < speedMax) speedDown++;
                right = false;
                down = false;
            }
            if (keysPressed['ArrowLeft'] && keysPressed['ArrowUp']) {
                playerright += speedLeft;
                if (speedLeft < speedMax) speedLeft++;
                playertop -= speedUp;
                if (speedUp < speedMax) speedUp++;
                left = false;
                up = false;
            }
            if (keysPressed['ArrowLeft'] && keysPressed['ArrowDown']) {
                playerright += speedLeft;
                if (speedLeft < speedMax) speedLeft++;
                playertop += speedDown;
                if (speedDown < speedMax) speedDown++;
                left = false;
                down = false;
            }


            // if (event.key == 32) // space
            // {

            // }
            if (keysPressed["ArrowRight"] && right) // right
            {
                playerright -= speedRight;
                if (speedRight < speedMax) speedRight++;
            }
            if (keysPressed["ArrowUp"] && up) // up 
            {
                playertop -= speedUp;
                if (speedUp < speedMax) speedUp++;
            }
            if (keysPressed["ArrowLeft"] && left) // left
            {
                playerright += speedLeft;
                if (speedLeft < speedMax) speedLeft++;
            }
            if (keysPressed["ArrowDown"] && down) // down
            {
                playertop += speedDown;
                if (speedDown < speedMax) speedDown++;
            }
            update()

        }

        var int = self.setInterval(moveBg, 10);

        function update() {
            if (playertop > window.innerHeight * .8)
                playertop = window.innerHeight * .8;
            if (playertop < window.innerHeight * .0)
                playertop = window.innerHeight * .0;
            if (playerright > window.innerWidth * .8)
                playerright = window.innerWidth * .8;
            if (playerright < window.innerWidth * .05)
                playerright = window.innerWidth * .05;
            playerShip.style.top = playertop;
            playerShip.style.right = playerright;
        }

        update();
    </script>
</body>

</html>